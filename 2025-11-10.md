#전처리 과정 탐색
- 기본 wav(16kHz, channel = mono) 사용
- 팀원이 진행한 Nemo + whisper로 검증

##목표
- STT 진행 시, 더 정확한 전사

##과정
==================================================
1. 다른 전처리 없는 wav file
    a. 깨지거나 다른 언어 등장(whisper language = "ko" 확인)
『Speaker 0: лож 영상 참 보�ростcries. 매운 맛은 덩� COBONG이에요.
UNKNOWN: COBONG 좋아하시나 봐요?
UNKNOWN: 못 aesthet 시킨다�went Nature mö니 exting bore
Speaker 0: 가진 색인데 진짜 맛있 manufactures☆
UNKNOWN: 한gens pressi
Speaker 0: 하고.
UNKNOWN: monkey shake.                           』
    b. 중복 문장 생성 - 같은 문장 반복 생성(3~10회)
『UNKNOWN: 밥 먹으러
UNKNOWN: 밥 먹어
UNKNOWN: 밥 먹어
UNKNOWN: 밥 먹어
UNKNOWN: 밥 먹어� numa                           』
    c. 단순 전사 오류
        - 본가 → 공가/동가 등 단어 파악 실패
    d. 고유 명사 파악 정확도 낮음

==================================================
2. 16kHz ffmpeg → DC → Pre-emphasis → VAD(padding = 0, AGGR = 2) → STFT → MelSpectogram → MFCC
    a. 1에 비해 중복률 소폭 감소
    b. 깨짐/타언어 비율 대폭 감소
    c. text 전사 정확도 감소
    d. 고유 명사 파악 정확도 낮음
==================================================
3. 16kHz pydub → VAD(AGGR = 3)
    a. 짧은 단어(음, 어)에 대한 중복률 대폭 증가
    b. 의미 불명의 text 출력(깨짐 의심)
『Speaker 0: kr 국물로 죽어요 kr
UNKNOWN: kr
UNKNOWN: kr
UNKNOWN: kr
UNKNOWN: kr
UNKNOWN: kr
UNKNOWN: kr
Speaker 0: kr                                    』
    c. 명사 정확도 낮음, 그 외 정확도 소폭 증가
    d. 고유 명사 파악 정확도 낮음
==================================================
4. 16kHz ffmpeg → DC → STFT → MelSpectogram → MFCC
    a. 깨진 문자/타언어 대폭 감소
    b. 전체적인 중복률은 감소했지만, 특정 부분의 중복률 심각
    c. 고유 명사 파악 정확도 가장 낮음
    d. 전체적인 전사 정확도 낮음
==================================================
5.  16kHz ffmpeg → DC → Pre-emphasis → VAD(padding = 100, AGGR = 2) → STFT → MelSpectogram → MFCC
    a. 문장 중복률 - 한 문장의 중복 정도는 감소했지만, 2~3번 중복으로 더 많은 문장이 중복
    b. 의미 불명 문장 생성
『UNKNOWN: 밥토토 밥토토
UNKNOWN: 밥토토 밥토토
UNKNOWN: 브로건칩
UNKNOWN: 횡설수osaic
UNKNOWN: we
UNKNOWN: we
UNKNOWN: we                                      』
    c. 전체적인 전사 정확도 매우 낮음
==================================================
6. 16kHz ffmpeg → DC → Pre-emphasis → VAD(padding = 150, AGGR = 2) → STFT → MelSpectogram → MFCC
    a. 전체적인 중복되는 문장 종류는 줄었지만, 특정 문장들 과한 중복(최대 39회)
    b. 의미 불명 문장 생성
『UNKNOWN: 20 UNKNOWN: 20 UNKNOWN: 30 UNKNOWN: 40
UNKNOWN: 41 UNKNOWN: 42 UNKNOWN: 43 UNKNOWN: 47
UNKNOWN: 48 UNKNOWN: 50 UNKNOWN: 51 UNKNOWN: 52
UNKNOWN: 53 UNKNOWN: 54 UNKNOWN: 55 UNKNOWN: 56  』
    c. 그 외 깨진 문자나 타 언어 대폭 감소
    d. 전체적인 전사 정확도 낮음
==================================================
7. 16kHz ffmpeg → VAD(padding = 0, AGGR = 3) → STFT → MelSpectogram → MFCC
    a. 중복 문장 대폭 감소 - '아' 등의 짧은 문장 중복
    b. 의미 불명/깨짐/타언어 문장 소량 존재
    c. 명사 정확도 낮음, 전체적인 전사 정확도 준수
==================================================
8. DC → Band-pass → VAD(Padding = 0, AGGR = 3) → MelSpectogram → CMVN
    a. 높은 중복률
    b. STT에서의 음성 파악이 잘 안된다.(사라지는 문장들이 다수 존재)
    c. 전체적인 전사 정확도 낮음(깨짐/타언어도 다수)
==================================================
9. DC → Band-pass → VAD(Padding = 0, AGGR = 3) → MelSpectogram → (STFT + MelSpectogram)→ CMVN
    a. 짧은 문장에 대하여 매우 높은 중복률
    b. 깨짐/타언어 문장 일정 존재
    c. 그 외 한국어로 전사된 부분 약간 준수
==================================================
##사용 가능한 추가 task
범주	대표 기법	핵심 목적
Noise / Enhancement | Spectral gating, RNNoise, Demucs, Wiener filter | 잡음 제거, SNR 향상
Room / Channel 정규화 | Cepstral Mean and Variance Normalization (CMVN), RMS normalization | 마이크/환경 차이 보정
Loudness / Gain 조정 | Peak normalize, LUFS normalize | 음량 균일화
Silence / Breath Control | adaptive threshold VAD, breath removal | 무음·호흡 구간 정제
Pitch / Formant 관련 | pitch shifting, pitch contour smoothing | 억양·성별 차이 완화 또는 보존
Speed / Tempo | time-stretching(±10%), tempo normalization | 화자 속도 보정
De-reverberation | WPE (Weighted Prediction Error), spectral subtraction | 잔향 제거
Band-limiting / Filtering | band-pass (50–7 kHz) | 불필요한 저역·초고역 제거
Augmentation (학습용) | SpecAugment, noise mix-in, random gain | 모델 일반화 향상
Voice Quality Feature | PLP, PNCC, LPC, Prosody | MFCC 외 확장 특징 추출

##중간 판단
- 중복 문장의 경우, 큰 비중을 두지 말고 추후, 중복 문장 제거하는 과정 따로 추가
- 텍스트 전사 정확도 우선으로 진행
- 깨짐/타언어/명사/고유명사 정확도 판단
- 음성 증폭 및 노이즈 제거. 이 2가지만 해도 성능이 오를까?

##추가 과정 진행
리샘플링(16kHz, mono)은 고정 task
==================================================
1. DC offset, HPF(40Hz) → Band-pass(50~7000), VAD(AGGR = 3, FRAME_MS = 20, PAD = 0, CROSSFADE_MS = 10)
==================================================
2. VAD(FRAME_MS = 20, AGGR = 3, PAD = 0 CROSSFADE_MS = 10) → Noise reduce(비음구간 감쇠, -24dB) → GAIN(사람 목소리 증폭, +6dB) → Crossfade(경계 연결, MIN_SPEECH_MS = 100)
==================================================
3. DC/HPF → 노이즈 감소 → 비음성 감쇠 → pre-emphasis → VAD → STFT + Mel + MFCC + CMVN
    - 42분 짜리 wav가 12분 된게 맞나?
==================================================
4. 3에서 aggr = 3 → 2, NR_STATIONARY = False → True, NR_PROP_DECREASE = 0.1 → 0.05 변경
==================================================
5. Noise Reduction(ffmpeg) → Slince Trimming(webrtcvad)
==================================================