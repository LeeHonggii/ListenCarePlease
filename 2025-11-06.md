# pyannote 코랩 실행

# senko 코랩 실행
## senko??
[senko 설명](https://discuss.pytorch.kr/t/senko-speaker-diarization/7695)

## test
실행 1. [git_senko](https://github.com/narcotic-sh/senko) 으로 실행   
문제 : 코랩 오류   
해결 : reddit에 제작자에게 요청후 colab 공유 받음   
[코랩 공유 파일 링크](https://colab.research.google.com/drive/12WBChh5cdw-RKRStr5hlFgQLPy7R950o?usp=sharing)

실행 2. senko pipeline colab    
결과 : sample wav 파일로는 잘 작동

실행 3. 회의음성파일(.m4a)로 실행 (.m4a -> .wav)   
문제 : 오디오 포맷 에러 발생
~~~ python
AudioFormatError: Audio file must be 16kHz mono 16-bit WAV format. Current: 44100Hz, 1 channel(s), 16-bit
~~~
분석 : senko는 16kHz를 요구하나 현재 파일 형식이 44.1kHz 임   
해결책 : 리샘플링 필요

실행 4. 음원을 리샘플링하자.  
결과 : pydub을 통해 wav로의 변환, 다운샘플링을 완료

실행 5. 리샘플링된 음원으로 senko 실행
결과 : 동작은 함
문제 : {'raw_speakers_detected' : 4} -> 즉 발화자를 4명으로 분류, 실제는 5인 -> 성능

## 향후 도전과제
kenko는 segment된 발화자와 start, end time을 받는다. 
발화자 텍스트는 STT를 또 해야된다.
whisper를 이용해 맞출 필요가 있음

# MahmoudAshraf97/whisper-diarization
[github](https://github.com/MahmoudAshraf97/whisper-diarization)

실행 1. readmd.md를 참고하여 코랩에서 실행   
결과 : 버전 호환성 문제    
~~~python
RuntimeError: cuDNN version incompatibility: PyTorch was compiled  against (9, 10, 2) but found runtime version (9, 2, 1). PyTorch already comes bundled with cuDNN. One option to resolving this error is to ensure PyTorch can find the bundled cuDNN. one possibility is that there is a conflicting cuDNN in LD_LIBRARY_PATH.
~~~    
분석 : PyTorch와 cuDNN 버전이 맞지 않는 문제입니다. Colab 환경에서 해결하는 방법을 알려드리겠습니다.   

