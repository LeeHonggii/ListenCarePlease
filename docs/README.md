# ğŸ“š í”„ë¡œì íŠ¸ ë¬¸ì„œ

ListenCarePlease í”„ë¡œì íŠ¸ì˜ ëª¨ë“  ê¸°ìˆ  ë¬¸ì„œëŠ” ì´ í´ë”ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## ğŸ“– ë¬¸ì„œ êµ¬ì¡°

### ğŸŒŸ **[ì™„ì „ ê°€ì´ë“œ - COMPLETE_GUIDE.md](./COMPLETE_GUIDE.md)** â­ ì‹ ê·œ!
**ëŒ€ìƒ**: ëª¨ë“  ì‚¬ìš©ì (ê°œë°œì, ê¸°íšì, PM, ìš´ì˜ì)

**ë‚´ìš©**: í”„ë¡œì íŠ¸ì˜ ëª¨ë“  ë‚´ìš©ì„ í•˜ë‚˜ì˜ ë¬¸ì„œì— í†µí•©
- 1. í”„ë¡œì íŠ¸ ê°œìš”
- 2. ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜
- 3. ê¸°ìˆ  ìŠ¤íƒ (í‘œ í˜•ì‹)
- 4. ì „ì²´ íŒŒì´í”„ë¼ì¸ (ì‚¬ìš©ì í”Œë¡œìš° + ë°ì´í„° í”Œë¡œìš°)
- 5. ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡° (ERD + ìŠ¤í‚¤ë§ˆ)
- 6. ë°±ì—”ë“œ ìƒì„¸ (8ê°œ API, 10ê°œ ì„œë¹„ìŠ¤, LangGraph Agent)
- 7. í”„ë¡ íŠ¸ì—”ë“œ ìƒì„¸ (13ê°œ í˜ì´ì§€, ì»´í¬ë„ŒíŠ¸, Context)
- 8. ì£¼ìš” ê¸°ëŠ¥ (ì¸ì¦, í™”ì íƒœê¹…, íš¨ìœ¨ì„±, RAG)
- 9. API ë¬¸ì„œ (ìš”ì²­/ì‘ë‹µ ì˜ˆì‹œ)
- 10. ë°°í¬ ë° ìš´ì˜
- 11. íŠ¸ëŸ¬ë¸”ìŠˆíŒ…
- ë¶€ë¡: í•µì‹¬ ì•Œê³ ë¦¬ì¦˜, ì„±ëŠ¥ ì§€í‘œ, ë¹„ìš© ë¶„ì„, í–¥í›„ ê°œì„ 

**ì–¸ì œ ì½ì–´ì•¼ í•˜ë‚˜ìš”?**
- **í”„ë¡œì íŠ¸ë¥¼ ì²˜ìŒ ì ‘í•  ë•Œ - ê°€ì¥ ë¨¼ì € ì½ì–´ì•¼ í•  ë¬¸ì„œ!** ğŸ“š
- ì „ì²´ êµ¬ì¡°ë¥¼ ë¹ ë¥´ê²Œ íŒŒì•…í•˜ê³  ì‹¶ì„ ë•Œ
- íŠ¹ì • ê¸°ëŠ¥ì˜ êµ¬í˜„ ë°©ì‹ì„ ì°¾ì„ ë•Œ
- API ìŠ¤í™ì„ í™•ì¸í•  ë•Œ

---

### 1ï¸âƒ£ **[í™˜ê²½ ì„¤ì • ê°€ì´ë“œ](./setup.md)**
**ëŒ€ìƒ**: ê°œë°œì, ìš´ì˜ì

**ë‚´ìš©**:
- Mac / GPU / CPU í™˜ê²½ë³„ ì„¤ì¹˜ ë°©ë²•
- Docker í™˜ê²½ ì„¤ì • ë° ì‹¤í–‰
- ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬ (MySQL, Alembic)
- í”„ë¡ íŠ¸ì—”ë“œ/ë°±ì—”ë“œ ê°œë°œ ê°€ì´ë“œ
- í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
- ìœ ìš©í•œ Docker ëª…ë ¹ì–´
- íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

**ì–¸ì œ ì½ì–´ì•¼ í•˜ë‚˜ìš”?**
- ì²˜ìŒ í”„ë¡œì íŠ¸ë¥¼ ì‹œì‘í•  ë•Œ
- ìƒˆë¡œìš´ í™˜ê²½ì—ì„œ ì„¤ì •í•  ë•Œ
- Docker ëª…ë ¹ì–´ë¥¼ ìŠì–´ë²„ë ¸ì„ ë•Œ

---

### 2ï¸âƒ£ **[ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](./architecture.md)** (PDR)
**ëŒ€ìƒ**: ê¸°íšì, ê°œë°œì, PM

**ë‚´ìš©**:
- í”„ë¡œì íŠ¸ ëª©í‘œ ë° ìš”êµ¬ì‚¬í•­
- ì „ì²´ íŒŒì´í”„ë¼ì¸ êµ¬ì¡°
- í•µì‹¬ ëª¨ë“ˆë³„ ì„¤ê³„ (STT, Diarization, NER, Agent)
- ê¸°ìˆ  ìŠ¤íƒ ìƒì„¸
- í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ êµ¬ì¡°
- ê°œë°œ ë¡œë“œë§µ (Phase 1~3)
- UI/UX ì„¤ê³„ (Wireframe)
- ì§„í–‰ ìƒí™© ë° ì™„ë£Œ ë‚´ì—­

**ì–¸ì œ ì½ì–´ì•¼ í•˜ë‚˜ìš”?**
- í”„ë¡œì íŠ¸ ì „ì²´ íë¦„ì„ ì´í•´í•˜ê³  ì‹¶ì„ ë•Œ
- ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ê¸° ì „
- í”„ë¡œì íŠ¸ ì†Œê°œ ìë£Œë¥¼ ë§Œë“¤ ë•Œ

---

### 3ï¸âƒ£ **[íŒŒì´í”„ë¼ì¸ I/O](./pipeline-io.md)**
**ëŒ€ìƒ**: ë°±ì—”ë“œ ê°œë°œì

**ë‚´ìš©**:
- ê° ë‹¨ê³„ë³„ Input/Output ì •ì˜
  1. Audio Input
  2. Preprocessing (ì „ì²˜ë¦¬)
  3. STT (Whisper)
  4. Diarization (í™”ì ë¶„ë¦¬)
  5. Tagger & Merge (íƒœê¹… ë° ë³‘í•©)
  6. Application Router (ì‘ìš©)
- 2ê°€ì§€ í™”ì íƒœê¹… ë°©ì‹:
  - ë°©ì‹ 1: ì´ë¦„ ê¸°ë°˜ íƒœê¹… (ë©€í‹°í„´ LLM)
  - ë°©ì‹ 2: ì—­í•  ê¸°ë°˜ í´ëŸ¬ìŠ¤í„°ë§
- ë©€í‹°í„´ LLM ì¶”ë¡  ì˜ˆì‹œ
- ìœ ì‚¬/ë™ëª… ì²˜ë¦¬ ë¡œì§
- ì‚¬ìš©ì ê²€ì¦ í”Œë¡œìš°

**ì–¸ì œ ì½ì–´ì•¼ í•˜ë‚˜ìš”?**
- APIë¥¼ ê°œë°œí•  ë•Œ
- ê° ë‹¨ê³„ì˜ ë°ì´í„° í˜•ì‹ì„ í™•ì¸í•˜ê³  ì‹¶ì„ ë•Œ
- STT, Diarization, NER ê²°ê³¼ë¥¼ ë””ë²„ê¹…í•  ë•Œ

---

### 4ï¸âƒ£ **[Agent ì›Œí¬í”Œë¡œìš°](./agent-workflow.md)**
**ëŒ€ìƒ**: AI/ML ê°œë°œì, ë°±ì—”ë“œ ê°œë°œì

**ë‚´ìš©**:
- LangGraph ê¸°ë°˜ ì—ì´ì „í‹± íŒŒì´í”„ë¼ì¸
- AgentState ì •ì˜
- Tools ì •ì˜ (4ê°œ)
  1. LoadProfilesTool
  2. VoiceSimilarityTool
  3. TextSimilarityTool
  4. SaveSpeakerProfileTool
- Graph êµ¬ì¡° (Mermaid ë‹¤ì´ì–´ê·¸ë¨)
- ë…¸ë“œë³„ ìƒì„¸ ë¡œì§ (7ê°œ)
  1. load_profiles_node
  2. embedding_match_node
  3. name_extraction_node
  4. name_based_tagging_node
  5. role_based_tagging_node
  6. merge_results_node
  7. save_profiles_node
- ì¡°ê±´ë¶€ ë¶„ê¸° ë¡œì§
- FastAPI í†µí•© ë°©ë²•
- LangSmith ì¶”ì  ì„¤ì •
- **êµ¬í˜„ ê³„íš (Phase 1~6)**

**ì–¸ì œ ì½ì–´ì•¼ í•˜ë‚˜ìš”?**
- LangGraph Agentë¥¼ êµ¬í˜„í•  ë•Œ
- í™”ì ë§¤í•‘ ë¡œì§ì„ ì´í•´í•˜ê³  ì‹¶ì„ ë•Œ
- ë©€í‹°í„´ LLM ì¶”ë¡ ì„ ë””ë²„ê¹…í•  ë•Œ

---

### 5ï¸âƒ£ **[ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ](./database-schema.md)**
**ëŒ€ìƒ**: ë°±ì—”ë“œ ê°œë°œì, DB ê´€ë¦¬ì

**ë‚´ìš©**:
- ERD (Entity Relationship Diagram)
- 12ê°œ í…Œì´ë¸” ìƒì„¸ ì •ì˜
  1. users (ì‚¬ìš©ì)
  2. audio_files (ì˜¤ë””ì˜¤ íŒŒì¼)
  3. preprocessing_results (ì „ì²˜ë¦¬ ê²°ê³¼)
  4. stt_results (STT ê²°ê³¼)
  5. diarization_results (í™”ì ë¶„ë¦¬ ê²°ê³¼)
  6. detected_names (ê°ì§€ëœ ì´ë¦„)
  7. user_confirmations (ì‚¬ìš©ì í™•ì • ì •ë³´)
  8. speaker_mappings (í™”ì íƒœê¹… ê²°ê³¼)
  9. final_transcripts (ìµœì¢… ëŒ€ë³¸)
  10. summaries (ìš”ì•½ ê²°ê³¼)
  11. **speaker_profiles** (í™”ì í”„ë¡œí•„ - ìë™ ì¸ì‹) â­ ì‹ ê·œ!
  12. **meeting_efficiency_analysis** (íš¨ìœ¨ì„± ë¶„ì„) â­ ì‹ ê·œ!
- ë°ì´í„° íë¦„ ì˜ˆì‹œ (ì „ì²´ íŒŒì´í”„ë¼ì¸)
- ì£¼ìš” ì•Œê³ ë¦¬ì¦˜ê³¼ DB ê´€ê³„
- í…Œì´ë¸”ë³„ ë°ì´í„° í¬ê¸° ì˜ˆìƒ
- ì¸ë±ìŠ¤ ì „ëµ
- ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ì´ë“œ (Alembic)

**ì–¸ì œ ì½ì–´ì•¼ í•˜ë‚˜ìš”?**
- ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡°ë¥¼ ì´í•´í•˜ê³  ì‹¶ì„ ë•Œ
- ìƒˆë¡œìš´ í…Œì´ë¸”ì„ ì¶”ê°€í•  ë•Œ
- ì¿¼ë¦¬ ìµœì í™”ê°€ í•„ìš”í•  ë•Œ
- ë§ˆì´ê·¸ë ˆì´ì…˜ì„ ì‹¤í–‰í•  ë•Œ

---

## ğŸ” ì½”ë“œ êµ¬ì¡° ìƒì„¸ ë¶„ì„

### ğŸ“ Backend êµ¬ì¡°

#### **1. API ì—”ë“œí¬ì¸íŠ¸** (`backend/app/api/v1/`)

##### `upload.py` - íŒŒì¼ ì—…ë¡œë“œ
```python
POST /api/v1/upload
- ê¸°ëŠ¥: ì˜¤ë””ì˜¤ íŒŒì¼ ì—…ë¡œë“œ (mp3, m4a, wav ë“±)
- ì…ë ¥: multipart/form-data
- ì¶œë ¥: file_id, message
- ì €ì¥ ìœ„ì¹˜: /app/uploads/{uuid}.{extension}
```

##### `processing.py` - AI ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸
```python
POST /api/v1/process/{file_id}
- ê¸°ëŠ¥: STT + Diarization + NER + ë‹‰ë„¤ì„ íƒœê¹… ì‹¤í–‰
- íŒŒë¼ë¯¸í„°:
  - whisper_mode: "local" | "api"
  - diarization_mode: "senko" | "nemo"
- ì²˜ë¦¬ ë‹¨ê³„:
  1. ì „ì²˜ë¦¬ (VAD, ë…¸ì´ì¦ˆ ì œê±°)
  2. Whisper STT (íƒ€ì„ìŠ¤íƒ¬í”„ í¬í•¨)
  3. Senko/NeMo Diarization (ì„ë² ë”© ì¶”ì¶œ)
  4. NER (Korean PII Masking BERT)
  5. ë‹‰ë„¤ì„ ìƒì„± (LLM ê¸°ë°˜)
  6. DB ì €ì¥ (9ê°œ í…Œì´ë¸”)
- BackgroundTasksë¡œ ë¹„ë™ê¸° ì²˜ë¦¬

GET /api/v1/status/{file_id}
- ê¸°ëŠ¥: ì²˜ë¦¬ ìƒíƒœ ë° ì§„í–‰ë¥  ì¡°íšŒ
- ì¶œë ¥:
  - status: "queued" | "preprocessing" | "stt" | "diarization" | "ner" | "completed" | "failed"
  - progress: 0~100
  - detected_names: ["ë¯¼ì„œ", "ì¸ì„œ", ...]
  - detected_nicknames: ["ì§„í–‰ ë‹´ë‹¹ì", "ê¸°ìˆ  ì „ë¬¸ê°€", ...]
  - speaker_count: 3

GET /api/v1/merged/{file_id}
- ê¸°ëŠ¥: STT + Diarization + NER ë³‘í•© ê²°ê³¼
- ì¶œë ¥: [{speaker, start, end, text, has_name, name}, ...]
- ìš°ì„ ìˆœìœ„: DB â†’ ë©”ëª¨ë¦¬
```

##### `tagging.py` - í™”ì íƒœê¹… (LangGraph Agent)
```python
GET /api/v1/tagging/speaker-info/{file_id}
- ê¸°ëŠ¥: í™”ì ì •ë³´ ì¡°íšŒ (í™”ì ìˆ˜ + ê°ì§€ëœ ì´ë¦„ + ë‹‰ë„¤ì„)
- DB ì¡°íšŒ:
  - SpeakerMapping: speaker_count
  - DetectedName: detected_names (ì¤‘ë³µ ì œê±°)
  - SpeakerMapping.nickname: detected_nicknames
- ì¶œë ¥: {speaker_count, detected_names, detected_nicknames}

POST /api/v1/tagging/speaker-info/confirm
- ê¸°ëŠ¥: ì‚¬ìš©ìê°€ ìˆ˜ì •í•œ í™”ì ì •ë³´ ì €ì¥
- ì…ë ¥: {file_id, speaker_count, detected_names, detected_nicknames}
- DB ì €ì¥: UserConfirmation í…Œì´ë¸” (ì—…ë°ì´íŠ¸ ë˜ëŠ” ìƒì„±)

POST /api/v1/tagging/analyze/{file_id}
- ê¸°ëŠ¥: LangGraph Agent ì‹¤í–‰ (í™”ì ì´ë¦„ ìë™ ë§¤í•‘)
- ì²˜ë¦¬:
  1. DBì—ì„œ ë°ì´í„° ë¡œë“œ (agent_data_loader)
  2. AgentState êµ¬ì„±
  3. LangGraph ì‹¤í–‰ (5ê°œ ë…¸ë“œ)
     - load_profiles â†’ embedding_match â†’ name_extraction â†’ name_based_tagging â†’ merge_results
  4. ê²°ê³¼ ì €ì¥ (SpeakerMapping ì—…ë°ì´íŠ¸)
- BackgroundTasksë¡œ ë¹„ë™ê¸° ì²˜ë¦¬

GET /api/v1/tagging/{file_id}
- ê¸°ëŠ¥: í™”ì íƒœê¹… ì œì•ˆ ì¡°íšŒ
- ì¶œë ¥:
  - suggested_mappings: [{speaker_label, suggested_name, nickname, name_confidence, needs_manual_review}, ...]
  - transcript: [{speaker, start, end, text}, ...]
  - detected_names: ["ë¯¼ì„œ", "ì¸ì„œ"]

POST /api/v1/tagging/confirm
- ê¸°ëŠ¥: ì‚¬ìš©ìê°€ í™•ì •í•œ íƒœê¹… ì €ì¥
- ì…ë ¥: {file_id, mappings: [{speaker_label, final_name}, ...]}
- DB ì—…ë°ì´íŠ¸:
  - SpeakerMapping.final_name
  - SpeakerMapping.is_modified
  - AudioFile.status â†’ CONFIRMED
```

##### `auth.py` & `oauth.py` - ì¸ì¦
```python
POST /api/v1/auth/register
- ê¸°ëŠ¥: ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ íšŒì›ê°€ì…

POST /api/v1/auth/login
- ê¸°ëŠ¥: ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ ë¡œê·¸ì¸
- ì¶œë ¥: {access_token, refresh_token, token_type: "bearer"}

GET /api/v1/oauth/google
- ê¸°ëŠ¥: Google OAuth ì‹œì‘

GET /api/v1/oauth/google/callback
- ê¸°ëŠ¥: Google OAuth ì½œë°± ì²˜ë¦¬

GET /api/v1/oauth/kakao
GET /api/v1/oauth/kakao/callback
- ê¸°ëŠ¥: Kakao OAuth
```

---

#### **2. ì„œë¹„ìŠ¤ ë ˆì´ì–´** (`backend/app/services/`)

##### `preprocessing.py` - ì˜¤ë””ì˜¤ ì „ì²˜ë¦¬
```python
def preprocess_audio(input_path, output_path):
    - VAD (Voice Activity Detection)
    - ë…¸ì´ì¦ˆ ì œê±°
    - ìƒ˜í”Œë ˆì´íŠ¸ ì •ê·œí™” (16kHz)
    - ë°˜í™˜: (output_path, original_duration, processed_duration)
```

##### `stt.py` - Whisper STT
```python
def run_stt_pipeline(audio_path, output_dir, openai_api_key, use_local_whisper, model_size, device):
    - ë¡œì»¬ Whisper: whisper.load_model("large-v3")
    - API Whisper: OpenAI API (30ë¶„ íƒ€ì„ì•„ì›ƒ)
    - ë³‘ë ¬ ì²˜ë¦¬: 4ê°œ ì²­í¬ ë™ì‹œ ì „ì‚¬
    - ì¶œë ¥: íƒ€ì„ìŠ¤íƒ¬í”„ í¬í•¨ í…ìŠ¤íŠ¸ íŒŒì¼
```

##### `diarization.py` - í™”ì ë¶„ë¦¬ (Senko)
```python
def run_diarization(audio_path, device, mode="senko"):
    - Senko: pyannote.audio ê¸°ë°˜ GPU ê°€ì†
    - ì„ë² ë”© ì¶”ì¶œ: 192ì°¨ì› ë²¡í„°
    - ì¶œë ¥:
      {
        "turns": [{"speaker_label": "SPEAKER_00", "start": 0.4, "end": 3.5}, ...],
        "embeddings": {"SPEAKER_00": [0.12, -0.45, ...], ...}
      }
```

##### `ner_service.py` - ì´ë¦„ ì¶”ì¶œ
```python
class NERService:
    - ëª¨ë¸: seungkukim/korean-pii-masking (BERT)
    - extract_person_names(): PERSON ì—”í‹°í‹° ì¶”ì¶œ (score >= 0.8)
    - cluster_names(): Levenshtein ê±°ë¦¬ ê¸°ë°˜ êµ°ì§‘í™”
      ì˜ˆ: "ë¯¼ì„œ", "ì¸ì„œ", "ê¹€ë¯¼ì„œ" â†’ "ê¹€ë¯¼ì„œ" ëŒ€í‘œëª…
    - process_segments(): ì „ì²´ ì„¸ê·¸ë¨¼íŠ¸ ì²˜ë¦¬
      ì¶œë ¥:
      {
        "final_namelist": ["ê¹€ë¯¼ì„œ", "ë°•ì² ìˆ˜"],
        "name_clusters": {"ê¹€ë¯¼ì„œ": ["ë¯¼ì„œ", "ì¸ì„œ"]},
        "segments_with_names": [{"text": "...", "has_name": true, "name": ["ë¯¼ì„œ"]}, ...]
      }
```

##### `nickname_service.py` - ë‹‰ë„¤ì„ ìƒì„±
```python
class NicknameService:
    - LLM: OpenAI GPT-4
    - Smart Selection: ëŒ€í‘œ ë°œí™” ì„ íƒ
      - ê¸´ ë°œí™” (20ì ì´ìƒ)
      - í‚¤ì›Œë“œ ë°œí™” ("ì œ ìƒê°", "ì €ëŠ”")
      - ì‹œì ë³„ ë°œí™” (ì‹œì‘, ì¤‘ê°„, ë)
    - generate_nickname(): í™”ìë³„ ë‹‰ë„¤ì„ ìƒì„±
      ì¶œë ¥:
      {
        "nickname": "ì§„í–‰ ë‹´ë‹¹ì",
        "nickname_metadata": {
          "display_label": "ì§„í–‰ ë‹´ë‹¹ì",
          "one_liner": "íšŒì˜ ì§„í–‰ì„ ì£¼ë„í•˜ëŠ” ì—­í• ",
          "keywords": ["ì‹œì‘", "ì•ˆê±´", "ë§ˆë¬´ë¦¬"]
        }
      }
```

##### `agent_data_loader.py` - Agent ì…ë ¥ ë°ì´í„° ë¡œë”
```python
def load_agent_input_data_by_file_id(file_id, db):
    - DB ì¡°íšŒ:
      1. AudioFile (file_idë¡œ ê²€ìƒ‰)
      2. STTResult (ì‹œê°„ìˆœ ì •ë ¬)
      3. DiarizationResult (ì„ë² ë”© í¬í•¨)
      4. DetectedName (context_before/after í¬í•¨)
    - ì¶œë ¥:
      {
        "audio_file_id": 123,
        "stt_result": [{text, start, end, speaker}, ...],
        "diar_result": {embeddings: {...}, turns: [...]},
        "name_mentions": [{name, context_before, context_after, time}, ...]
      }
```

---

#### **3. Agent ë…¸ë“œ** (`backend/app/agents/nodes/`)

##### `load_profiles.py`
```python
async def load_profiles_node(state: AgentState):
    - í˜„ì¬: ë¹ˆ ë¦¬ìŠ¤íŠ¸ ë°˜í™˜ (í”„ë¡œí•„ í…Œì´ë¸” ë¯¸êµ¬í˜„)
    - í–¥í›„: user_speaker_profilesì—ì„œ ê¸°ì¡´ í™”ì ë¡œë“œ
```

##### `embedding_match.py`
```python
async def embedding_match_node(state: AgentState):
    - VoiceSimilarityTool: ìŒì„± ì„ë² ë”© ì½”ì‚¬ì¸ ìœ ì‚¬ë„ (ì„ê³„ê°’ 0.85)
    - TextSimilarityTool: í…ìŠ¤íŠ¸ ì„ë² ë”© ìœ ì‚¬ë„ (ì„ê³„ê°’ 0.85)
    - ë‘ Tool ëª¨ë‘ í†µê³¼ â†’ auto_matched
```

##### `name_extraction.py`
```python
async def name_extraction_node(state: AgentState):
    - DetectedName ë°ì´í„° í™œìš© (NER ê²°ê³¼)
    - context_before/afterëŠ” DBì— ì´ë¯¸ ì €ì¥ë¨
    - name_mentions êµ¬ì„±:
      [{"name": "ë¯¼ì„œ", "context": [...], "time": 10.5}, ...]
    - speaker_utterances êµ¬ì„± (í™”ìë³„ ë°œí™” ê·¸ë£¹í™”)
```

##### `name_based_tagging.py` (í•µì‹¬!)
```python
async def name_based_tagging_node(state: AgentState):
    - LLM: gpt-5-mini-2025-08-07 (temperature=1.0)
    - ë©€í‹°í„´ ì¶”ë¡ :
      1. Turn 1: ì²« ë²ˆì§¸ ì´ë¦„ ì–¸ê¸‰ ë¶„ì„
         - í”„ë¡¬í”„íŠ¸: context_before/after + participant_names
         - ì¶œë ¥: {speaker: "SPEAKER_00", name: "ë¯¼ì„œ", confidence: 0.85, reasoning: "..."}
      2. Turn 2: ê°™ì€ ì´ë¦„ ì¬ì–¸ê¸‰ ì‹œ
         - ì´ì „ ë¶„ì„ ê²°ê³¼ ìš”ì•½ í¬í•¨
         - ì¼ê´€ì„± í™•ì¸ (consistency: true/false)
      3. Turn N: ëª¨ìˆœ ë°œê²¬ ì‹œ
         - conflict_detected: true
         - needs_manual_review: true
    - PydanticOutputParserë¡œ êµ¬ì¡°í™”ëœ ì‘ë‹µ íŒŒì‹±
    - mapping_historyì— ëª¨ë“  ì¶”ë¡  ê²°ê³¼ ëˆ„ì 
```

##### `merge_results.py`
```python
async def merge_results_node(state: AgentState):
    - ìë™ ë§¤ì¹­ëœ í™”ìëŠ” ê·¸ëŒ€ë¡œ ì‚¬ìš©
    - name_based_results ì§‘ê³„:
      - í™”ìë³„ë¡œ ê°€ì¥ ë§ì´ ì–¸ê¸‰ëœ ì´ë¦„ ì„ íƒ
      - í‰ê·  confidence ê³„ì‚°
    - ì¤‘ë³µ ì œê±°:
      - ê°™ì€ ì´ë¦„ì´ ì—¬ëŸ¬ í™”ìì— ë§¤í•‘ â†’ ê°€ì¥ ë†’ì€ confidence ì„ íƒ
    - ì†Œê±°ë²• ì ìš©:
      - ë‚¨ì€ í™”ì = ë‚¨ì€ ì´ë¦„ì´ 1:1ì¼ ë•Œ ìë™ ë§¤í•‘
      - ìµœì†Œ ë°œí™” íšŸìˆ˜: 3íšŒ ì´ìƒ
      - ì‹ ë¢°ë„: 0.50 (ë‚®ìŒ)
    - ìŠ¤ì½”ì–´ ê¸°ë°˜ ë§¤í•‘:
      - count * 0.5 + avg_confidence * 0.5
      - ë†’ì€ ìŠ¤ì½”ì–´ ìˆœìœ¼ë¡œ ë§¤í•‘ (ì¤‘ë³µ ë°©ì§€)
    - final_mappings ìƒì„±:
      [{speaker_label, name, confidence, match_method, needs_review}, ...]
```

---

#### **4. DB ëª¨ë¸** (`backend/app/models/`)

##### `audio_file.py`
```python
class AudioFile:
    - status: UPLOADING | PREPROCESSING | PROCESSING | COMPLETED | FAILED | CONFIRMED
    - file_path, original_filename, file_size, duration
    - created_at, updated_at
```

##### `stt.py`
```python
class STTResult:
    - text: TEXT (ê¸´ ì„¸ê·¸ë¨¼íŠ¸ ì§€ì›)
    - start_time, end_time
    - confidence (WhisperëŠ” ë¯¸ì œê³µ)
```

##### `diarization.py`
```python
class DiarizationResult:
    - speaker_label: "SPEAKER_00"
    - start_time, end_time
    - embedding: JSON (192ì°¨ì› ë²¡í„°)
```

##### `tagging.py`
```python
class DetectedName:
    - detected_name: "ë¯¼ì„œ"
    - speaker_label: "SPEAKER_00"
    - time_detected: 10.5
    - context_before: JSON (ì• 5ë¬¸ì¥)
    - context_after: JSON (ë’¤ 5ë¬¸ì¥)
    - llm_reasoning: ë©€í‹°í„´ LLM ì¶”ë¡  ê²°ê³¼ (í–¥í›„)
    - is_consistent: ì´ì „ ì¶”ë¡ ê³¼ ì¼ì¹˜ ì—¬ë¶€ (í–¥í›„)

class SpeakerMapping:
    - speaker_label: "SPEAKER_00"
    - suggested_name: "ë¯¼ì„œ" (LLM ì¶”ë¡ )
    - nickname: "ì§„í–‰ ë‹´ë‹¹ì" (LLM ìƒì„±)
    - nickname_metadata: JSON
    - name_confidence: 0.85
    - name_mentions: 3
    - conflict_detected: false
    - needs_manual_review: true/false
    - final_name: "ê¹€ë¯¼ì„œ" (ì‚¬ìš©ì í™•ì •)
    - is_modified: true/false
```

##### `user_confirmation.py`
```python
class UserConfirmation:
    - confirmed_speaker_count: 3
    - confirmed_names: ["ë¯¼ì„œ", "ì¸ì„œ", "ê¹€íŒ€ì¥"]
    - confirmed_nicknames: ["ì§„í–‰ ë‹´ë‹¹ì", "ê¸°ìˆ  ì „ë¬¸ê°€"]
```

---

### ğŸ“ Frontend êµ¬ì¡°

#### **1. í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸** (`frontend/src/pages/`)

##### `UploadPage.jsx` - íŒŒì¼ ì—…ë¡œë“œ
```jsx
ê¸°ëŠ¥:
- ë“œë˜ê·¸ì•¤ë“œë¡­ / íŒŒì¼ ì„ íƒ
- íŒŒì¼ ê²€ì¦ (í¬ë§·, í¬ê¸°)
- ì—…ë¡œë“œ ì§„í–‰ë¥  í‘œì‹œ
- API: POST /api/v1/upload

ìƒíƒœ:
- file: ì„ íƒëœ íŒŒì¼
- uploading: ì—…ë¡œë“œ ì¤‘ ì—¬ë¶€
- uploadProgress: 0~100
```

##### `ProcessingPage.jsx` - AI ì²˜ë¦¬ ì¤‘
```jsx
ê¸°ëŠ¥:
- ì²˜ë¦¬ ìƒíƒœ í´ë§ (1ì´ˆë§ˆë‹¤)
- ì§„í–‰ë¥  ë°” í‘œì‹œ
- ë‹¨ê³„ë³„ ìƒíƒœ í‘œì‹œ:
  - queued â†’ preprocessing â†’ stt â†’ diarization â†’ ner â†’ completed
- ì™„ë£Œ ì‹œ /confirm/{fileId}ë¡œ ì´ë™

ìƒíƒœ:
- status: ì²˜ë¦¬ ìƒíƒœ
- progress: 0~100
- step: í˜„ì¬ ë‹¨ê³„ ì„¤ëª…
```

##### `SpeakerInfoConfirmPage.jsx` - í™”ì ì •ë³´ í™•ì¸
```jsx
ê¸°ëŠ¥:
- í™”ì ìˆ˜ í‘œì‹œ/ìˆ˜ì •
- ê°ì§€ëœ ì´ë¦„ ëª©ë¡ í‘œì‹œ/ìˆ˜ì •
  - ì¶”ê°€ (+), ì‚­ì œ (-), ìˆ˜ì •
  - ì²´í¬ë°•ìŠ¤ë¡œ ì„ íƒ/í•´ì œ
- ê°ì§€ëœ ë‹‰ë„¤ì„ ëª©ë¡ í‘œì‹œ/ìˆ˜ì •
  - ì¶”ê°€ (+), ì‚­ì œ (-), ìˆ˜ì •
  - ì²´í¬ë°•ìŠ¤ë¡œ ì„ íƒ/í•´ì œ
- API:
  - GET /api/v1/tagging/speaker-info/{fileId}
  - POST /api/v1/tagging/speaker-info/confirm

ìƒíƒœ:
- speakerCount: í™”ì ìˆ˜
- detectedNames: ["ë¯¼ì„œ", "ì¸ì„œ"]
- selectedNames: ì„ íƒëœ ì´ë¦„ ë°°ì—´
- detectedNicknames: ["ì§„í–‰ ë‹´ë‹¹ì", "ê¸°ìˆ  ì „ë¬¸ê°€"]
- selectedNicknames: ì„ íƒëœ ë‹‰ë„¤ì„ ë°°ì—´
- isEditing: í¸ì§‘ ëª¨ë“œ ì—¬ë¶€
```

##### `TaggingAnalyzingPage.jsx` - AI ë¶„ì„ ì¤‘
```jsx
ê¸°ëŠ¥:
- LangGraph Agent ì‹¤í–‰ ì‹œì‘
- 3ì´ˆ ë¡œë”© ì• ë‹ˆë©”ì´ì…˜
- ìë™ìœ¼ë¡œ /tagging/{fileId}ë¡œ ì´ë™
- API: POST /api/v1/tagging/analyze/{fileId}

ìƒíƒœ:
- analyzing: ë¶„ì„ ì¤‘ ì—¬ë¶€
```

##### `TaggingPageNew.jsx` - í™”ì íƒœê¹…
```jsx
ê¸°ëŠ¥:
- ì‹œìŠ¤í…œ ì œì•ˆ í‘œì‹œ:
  - í™”ìë³„ suggested_name, nickname, confidence
  - needs_manual_review í”Œë˜ê·¸ í‘œì‹œ
- ì‚¬ìš©ì ìˆ˜ì •:
  - ë“œë¡­ë‹¤ìš´ìœ¼ë¡œ ì´ë¦„ ì„ íƒ (detected_namesì—ì„œ)
  - ì§ì ‘ ì…ë ¥ ê°€ëŠ¥
- íƒœê·¸ ì™„ë£Œ ë²„íŠ¼
- API:
  - GET /api/v1/tagging/{fileId}
  - POST /api/v1/tagging/confirm

ìƒíƒœ:
- suggestedMappings: [{speaker_label, suggested_name, nickname, confidence, needs_manual_review}, ...]
- editedMappings: {SPEAKER_00: "ê¹€ë¯¼ì„œ", ...}
```

##### `ResultPageNew.jsx` - ê²°ê³¼
```jsx
ê¸°ëŠ¥:
- í™”ìë³„ í†µê³„:
  - ë°œí™” íšŸìˆ˜, ë°œí™” ì‹œê°„
  - ì°¨íŠ¸ í‘œì‹œ (ì˜µì…˜)
- ì „ì²´ íšŒì˜ë¡:
  - [00:10] [ê¹€ë¯¼ì„œ]: ì˜¤ëŠ˜ íšŒì˜ ì•ˆê±´ì€...
  - [00:12] [ë°•ì² ìˆ˜]: ë„¤, ì œê°€ ë¨¼ì €...
- ë‹¤ìš´ë¡œë“œ ë²„íŠ¼ (JSON, TXT)
- ë‹¤ìŒ ë‹¨ê³„ ì„ íƒ:
  - ìš”ì•½ ìƒì„±
  - RAG ëŒ€í™”
  - ìë§‰ ìƒì„±
- API:
  - GET /api/v1/merged/{fileId}
  - GET /api/v1/export/{fileId}

ìƒíƒœ:
- transcript: [{speaker_name, start, end, text}, ...]
- statistics: {SPEAKER_00: {name, count, duration}, ...}
```

---

#### **2. ì„œë¹„ìŠ¤ ë ˆì´ì–´** (`frontend/src/services/`)

##### `api.js` - API í˜¸ì¶œ
```javascript
ì£¼ìš” í•¨ìˆ˜:
- uploadAudioFile(file, onUploadProgress)
- startProcessing(fileId, whisperMode, diarizationMode)
- getProcessingStatus(fileId)
- confirmSpeakerInfo(fileId, speakerCount, detectedNames, detectedNicknames)
- analyzeTagging(fileId)
- getTaggingSuggestion(fileId)
- confirmTagging(fileId, mappings)
- getMergedResult(fileId)

ì„¤ì •:
- baseURL: import.meta.env.VITE_API_URL || 'http://localhost:8000'
- headers: {'Content-Type': 'application/json'}
```

---

#### **3. Context & ìƒíƒœ ê´€ë¦¬** (`frontend/src/contexts/`)

##### `AuthContext.jsx`
```javascript
ì œê³µ:
- user: í˜„ì¬ ë¡œê·¸ì¸ ì‚¬ìš©ì
- login(email, password)
- logout()
- register(email, password, name)
- isAuthenticated: ë¡œê·¸ì¸ ì—¬ë¶€

ì €ì¥:
- localStorage: access_token, refresh_token
```

##### `ThemeContext.jsx`
```javascript
ì œê³µ:
- theme: "light" | "dark"
- toggleTheme()

ì €ì¥:
- localStorage: theme
```

---

#### **4. ë¼ìš°íŒ…** (`frontend/src/App.jsx`)

```jsx
ê³µê°œ ë¼ìš°íŠ¸:
- /login - ë¡œê·¸ì¸
- /register - íšŒì›ê°€ì…
- /oauth/callback - OAuth ì½œë°±

ë³´í˜¸ëœ ë¼ìš°íŠ¸ (ì¸ì¦ í•„ìš”):
- / - íŒŒì¼ ì—…ë¡œë“œ
- /processing/:fileId - AI ì²˜ë¦¬ ì¤‘
- /confirm/:fileId - í™”ì ì •ë³´ í™•ì¸
- /analyzing/:fileId - AI ë¶„ì„ ì¤‘
- /tagging/:fileId - í™”ì íƒœê¹…
- /result/:fileId - ê²°ê³¼

í˜ì´ì§€ í”Œë¡œìš°:
1. / (ì—…ë¡œë“œ)
   â†“
2. /processing/:fileId (STT, Diarization, NER)
   â†“
3. /confirm/:fileId (í™”ì ìˆ˜, ì´ë¦„ í™•ì¸)
   â†“
4. /analyzing/:fileId (LangGraph Agent ì‹¤í–‰)
   â†“
5. /tagging/:fileId (ì‹œìŠ¤í…œ ì œì•ˆ í™•ì¸/ìˆ˜ì •)
   â†“
6. /result/:fileId (ìµœì¢… íšŒì˜ë¡)
```

---

## ğŸ”‘ í•µì‹¬ ì•Œê³ ë¦¬ì¦˜ ìƒì„¸

### 1. NER + êµ°ì§‘í™” (Levenshtein Distance)
```python
ì…ë ¥: ["ë¯¼ì„œ", "ì¸ì„œ", "ê¹€ë¯¼ì„œ", "ë°•ì² ìˆ˜", "ì² ìˆ˜"]

ë‹¨ê³„:
1. NER ì¶”ì¶œ: PS_NAME ì—”í‹°í‹° (score >= 0.8)
2. ë ˆë²¤ìŠˆíƒ€ì¸ ê±°ë¦¬ ê³„ì‚°:
   - "ë¯¼ì„œ" vs "ì¸ì„œ": ê±°ë¦¬ 1
   - "ë¯¼ì„œ" vs "ê¹€ë¯¼ì„œ": ê±°ë¦¬ 2
   - "ë°•ì² ìˆ˜" vs "ì² ìˆ˜": ê±°ë¦¬ 2
3. ê³„ì¸µì  êµ°ì§‘í™” (threshold=1.5):
   - Cluster 1: ["ë¯¼ì„œ", "ì¸ì„œ"]
   - Cluster 2: ["ê¹€ë¯¼ì„œ"]
   - Cluster 3: ["ë°•ì² ìˆ˜", "ì² ìˆ˜"]
4. ëŒ€í‘œëª… ì„ ì • (ìµœëŒ€ score ë˜ëŠ” ê°€ì¥ ê¸´ ì´ë¦„):
   - Cluster 1 â†’ "ë¯¼ì„œ" (score ìš°ì„ )
   - Cluster 2 â†’ "ê¹€ë¯¼ì„œ"
   - Cluster 3 â†’ "ë°•ì² ìˆ˜"

ì¶œë ¥: ["ë¯¼ì„œ", "ê¹€ë¯¼ì„œ", "ë°•ì² ìˆ˜"]
```

### 2. ë©€í‹°í„´ LLM ì¶”ë¡ 
```python
Turn 1: ì²« ë²ˆì§¸ "ë¯¼ì„œ" ì–¸ê¸‰
  ì…ë ¥:
    - context_before: ì• 5ë¬¸ì¥
    - context_after: ë’¤ 5ë¬¸ì¥
    - participant_names: ["ë¯¼ì„œ", "ì¸ì„œ", "ê¹€íŒ€ì¥"]
  í”„ë¡¬í”„íŠ¸:
    "ë‹¤ìŒ ëŒ€í™”ì—ì„œ 'ë¯¼ì„œ'ëŠ” SPEAKER_00ê³¼ SPEAKER_01 ì¤‘ ëˆ„êµ¬ì¼ê¹Œìš”?
     - SPEAKER_01: ë¯¼ì„œì”¨, ì´ë²ˆ íšŒì˜ ì•ˆê±´ ë°œí‘œí•´ì£¼ì„¸ìš”
     - SPEAKER_00: ë„¤, ì•Œê² ìŠµë‹ˆë‹¤
     ..."
  LLM ì‘ë‹µ:
    {speaker: "SPEAKER_00", confidence: 0.85, reasoning: "SPEAKER_01ì´ í˜¸ì¹­ í›„ SPEAKER_00ì´ ì‘ë‹µ"}

Turn 2: ë‘ ë²ˆì§¸ "ë¯¼ì„œ" ì–¸ê¸‰
  ì…ë ¥:
    - ì´ì „ ë¶„ì„ ìš”ì•½: "Turn 1: ë¯¼ì„œ=SPEAKER_00 (confidence: 0.85)"
    - ìƒˆ context
  í”„ë¡¬í”„íŠ¸:
    "[Turn 1] ë¯¼ì„œëŠ” SPEAKER_00ì¼ í™•ë¥  85%ì˜€ìŠµë‹ˆë‹¤.

     [Turn 2 ìƒˆ ë¬¸ë§¥]
     - SPEAKER_01: ë¯¼ì„œì”¨ ì˜ê²¬ì— ë™ì˜í•©ë‹ˆë‹¤
     - SPEAKER_00: ë„¤, ê°ì‚¬í•©ë‹ˆë‹¤

     ì´ ë¬¸ë§¥ì—ì„œë„ ë¯¼ì„œê°€ SPEAKER_00ì´ ë§ë‚˜ìš”?"
  LLM ì‘ë‹µ:
    {speaker: "SPEAKER_00", confidence: 0.95, consistency: true}

Turn 3: ëª¨ìˆœ ë°œê²¬
  ì…ë ¥:
    - ì´ì „ ë¶„ì„ ìš”ì•½: "Turn 1~2: ë¯¼ì„œ=SPEAKER_00 (confidence: 0.90)"
    - ìƒˆ context
  í”„ë¡¬í”„íŠ¸:
    "[ì´ì „ ë¶„ì„] ë¯¼ì„œëŠ” SPEAKER_00ì¼ í™•ë¥  90%ì˜€ìŠµë‹ˆë‹¤.

     [Turn 3 ìƒˆ ë¬¸ë§¥]
     - SPEAKER_00: ë¯¼ì„œì”¨ëŠ” ì–´ë–»ê²Œ ìƒê°í•˜ì„¸ìš”?
     - SPEAKER_01: ì €ëŠ” ì´ë ‡ê²Œ ìƒê°í•©ë‹ˆë‹¤

     ì´ ë¬¸ë§¥ì€ ì´ì „ ë¶„ì„ê³¼ ëª¨ìˆœë˜ë‚˜ìš”?"
  LLM ì‘ë‹µ:
    {speaker: "SPEAKER_01", confidence: 0.80, consistency: false, conflict_detected: true}

ìµœì¢… ìŠ¤ì½”ì–´ ì¡°ì •:
  - SPEAKER_00: 0.90 * 0.7 = 0.63 (í•˜í–¥)
  - SPEAKER_01: 0.10 + 0.80 * 0.3 = 0.34 (ìƒí–¥)
  - needs_manual_review: true
```

### 3. ì†Œê±°ë²•
```python
ìƒí™©:
- ì „ì²´ í™”ì: [SPEAKER_00, SPEAKER_01, SPEAKER_02]
- ë§¤í•‘ëœ í™”ì: {SPEAKER_00: "ë¯¼ì„œ"}
- ë‚¨ì€ í™”ì: [SPEAKER_01, SPEAKER_02]
- ì‚¬ìš©ì ì„ íƒ ì´ë¦„: ["ë¯¼ì„œ", "ì¸ì„œ", "ê¹€íŒ€ì¥"]
- ë‚¨ì€ ì´ë¦„: ["ì¸ì„œ", "ê¹€íŒ€ì¥"]

ì¡°ê±´:
- len(ë‚¨ì€ í™”ì) == len(ë‚¨ì€ ì´ë¦„) = 2
- ê° í™”ìì˜ ë°œí™” íšŸìˆ˜ >= 3íšŒ

ì‹¤í–‰:
1. ë°œí™” íšŸìˆ˜ í™•ì¸:
   - SPEAKER_01: 15íšŒ ë°œí™”
   - SPEAKER_02: 8íšŒ ë°œí™”
2. ë°œí™” ë§ì€ ìˆœìœ¼ë¡œ ë§¤í•‘:
   - SPEAKER_01 â†’ "ì¸ì„œ" (confidence: 0.50, method: "ì†Œê±°ë²•")
   - SPEAKER_02 â†’ "ê¹€íŒ€ì¥" (confidence: 0.50, method: "ì†Œê±°ë²•")
3. needs_manual_review: true (ë‚®ì€ ì‹ ë¢°ë„)
```

### 4. ìŠ¤ì½”ì–´ ê¸°ë°˜ ë§¤í•‘
```python
ìƒí™©:
- ë§¤í•‘ë˜ì§€ ì•Šì€ í™”ì: [SPEAKER_01, SPEAKER_02, SPEAKER_03]
- name_based_results:
  {
    "ì¸ì„œ": [
      {speaker: "SPEAKER_01", confidence: 0.75},
      {speaker: "SPEAKER_01", confidence: 0.80}
    ],
    "ê¹€íŒ€ì¥": [
      {speaker: "SPEAKER_02", confidence: 0.65},
      {speaker: "SPEAKER_03", confidence: 0.90}
    ]
  }

ê³„ì‚°:
1. í™”ìë³„ ì§‘ê³„:
   - SPEAKER_01 + "ì¸ì„œ": count=2, avg_confidence=0.775
   - SPEAKER_02 + "ê¹€íŒ€ì¥": count=1, avg_confidence=0.65
   - SPEAKER_03 + "ê¹€íŒ€ì¥": count=1, avg_confidence=0.90

2. ìŠ¤ì½”ì–´ ê³„ì‚° (count * 0.5 + avg_confidence * 0.5):
   - SPEAKER_01 + "ì¸ì„œ": 2*0.5 + 0.775*0.5 = 1.3875
   - SPEAKER_03 + "ê¹€íŒ€ì¥": 1*0.5 + 0.90*0.5 = 0.95
   - SPEAKER_02 + "ê¹€íŒ€ì¥": 1*0.5 + 0.65*0.5 = 0.825

3. ìŠ¤ì½”ì–´ ë†’ì€ ìˆœ ì •ë ¬:
   [
     {speaker: SPEAKER_01, name: "ì¸ì„œ", score: 1.3875},
     {speaker: SPEAKER_03, name: "ê¹€íŒ€ì¥", score: 0.95},
     {speaker: SPEAKER_02, name: "ê¹€íŒ€ì¥", score: 0.825}
   ]

4. ì¤‘ë³µ ì œê±°í•˜ë©° ë§¤í•‘:
   - SPEAKER_01 â†’ "ì¸ì„œ" (score: 1.3875)
   - SPEAKER_03 â†’ "ê¹€íŒ€ì¥" (score: 0.95) âœ“ ì„ íƒ
   - SPEAKER_02 â†’ "ê¹€íŒ€ì¥" (ì¤‘ë³µ, ìŠ¤í‚µ)

5. ë‚¨ì€ í™”ì ì²˜ë¦¬:
   - SPEAKER_02: ì†Œê±°ë²• ë˜ëŠ” Unknown
```

---

## ğŸ—‚ï¸ ê¸°íƒ€ ë¬¸ì„œ

### [database_schema.md](../database_schema.md)
**ëŒ€ìƒ**: ë°±ì—”ë“œ ê°œë°œì, DB ê´€ë¦¬ì

**ë‚´ìš©**:
- ì „ì²´ ERD (9ê°œ í…Œì´ë¸”)
- ê° í…Œì´ë¸”ë³„ ìƒì„¸ ìŠ¤í‚¤ë§ˆ
  - users, audio_files, preprocessing_results
  - stt_results, diarization_results
  - detected_names, speaker_mappings
  - user_confirmation, final_transcripts
- ê´€ê³„ ë° ì œì•½ì¡°ê±´
- ì¸ë±ìŠ¤ ë° ìµœì í™”

**ì–¸ì œ ì½ì–´ì•¼ í•˜ë‚˜ìš”?**
- DB ë§ˆì´ê·¸ë ˆì´ì…˜ì„ ìƒì„±í•  ë•Œ
- ìƒˆë¡œìš´ í…Œì´ë¸”ì„ ì¶”ê°€í•  ë•Œ
- ì¿¼ë¦¬ ì„±ëŠ¥ì„ ìµœì í™”í•  ë•Œ

---

### [COMMANDS.md](../COMMANDS.md)
**ëŒ€ìƒ**: ê°œë°œì, ìš´ì˜ì

**ë‚´ìš©**:
- Docker ëª…ë ¹ì–´ ëª¨ìŒ
- MySQL ì ‘ì† ë° ì¿¼ë¦¬
- Alembic ë§ˆì´ê·¸ë ˆì´ì…˜ ëª…ë ¹ì–´
- íŒŒì¼ ê´€ë¦¬ ëª…ë ¹ì–´
- íŠ¸ëŸ¬ë¸”ìŠˆíŒ… íŒ

**ì–¸ì œ ì½ì–´ì•¼ í•˜ë‚˜ìš”?**
- ìì£¼ ì‚¬ìš©í•˜ëŠ” ëª…ë ¹ì–´ë¥¼ ë¹ ë¥´ê²Œ ì°¾ì„ ë•Œ
- setup.mdë³´ë‹¤ ë¹ ë¥¸ ë ˆí¼ëŸ°ìŠ¤ê°€ í•„ìš”í•  ë•Œ

---

### [MOCK_TO_REAL.md](../MOCK_TO_REAL.md)
**ëŒ€ìƒ**: ë°±ì—”ë“œ ê°œë°œì

**ë‚´ìš©**:
- Phase 2 (AI ëª¨ë“ˆ í†µí•©) ê°€ì´ë“œ
- Mock API â†’ Real AI ì „í™˜ ë°©ë²•
- ê° ëª¨ë“ˆë³„ í†µí•© ì²´í¬ë¦¬ìŠ¤íŠ¸

**ì–¸ì œ ì½ì–´ì•¼ í•˜ë‚˜ìš”?**
- Phase 1 ì™„ë£Œ í›„ Phase 2ë¡œ ë„˜ì–´ê°ˆ ë•Œ
- AI ëª¨ë¸ì„ ì‹¤ì œë¡œ ì—°ë™í•  ë•Œ

---

### [2025-11-04.md](../2025-11-04.md)
**ëŒ€ìƒ**: ì—°êµ¬ì, ê¸°íšì

**ë‚´ìš©**:
- ì´ˆê¸° ì¡°ì‚¬ ìë£Œ
- STT, Diarization ëª¨ë¸ í›„ë³´êµ°
- ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬ ë¹„êµ

**ì–¸ì œ ì½ì–´ì•¼ í•˜ë‚˜ìš”?**
- í”„ë¡œì íŠ¸ ë°°ê²½ì„ ì´í•´í•˜ê³  ì‹¶ì„ ë•Œ
- ë‹¤ë¥¸ ëª¨ë¸ë¡œ ë³€ê²½ì„ ê²€í† í•  ë•Œ

---

## ğŸ“Œ ë¬¸ì„œ ì½ê¸° ìˆœì„œ ì¶”ì²œ

### ì‹ ê·œ ê°œë°œì
```
1. README.md (í”„ë¡œì íŠ¸ ë£¨íŠ¸)
   â†“
2. docs/setup.md (í™˜ê²½ ì„¤ì •)
   â†“
3. docs/architecture.md (ì „ì²´ íë¦„ ì´í•´)
   â†“
4. docs/pipeline-io.md (ë°ì´í„° í˜•ì‹ ì´í•´)
   â†“
5. database_schema.md (DB êµ¬ì¡° ì´í•´)
   â†“
6. ì‹¤ì œ ì½”ë“œ íƒìƒ‰:
   - backend/app/api/v1/processing.py (íŒŒì´í”„ë¼ì¸)
   - backend/app/services/ner_service.py (NER)
   - frontend/src/App.jsx (ë¼ìš°íŒ…)
   - frontend/src/pages/SpeakerInfoConfirmPage.jsx (í™”ì í™•ì¸)
```

### AI ê°œë°œì
```
1. README.md
   â†“
2. docs/architecture.md (AI ëª¨ë“ˆ ë¶€ë¶„)
   â†“
3. docs/pipeline-io.md (I/O ì´í•´)
   â†“
4. docs/agent-workflow.md (Agent êµ¬í˜„)
   â†“
5. ì‹¤ì œ Agent ì½”ë“œ íƒìƒ‰:
   - backend/app/agents/graph.py
   - backend/app/agents/nodes/name_based_tagging.py
   - backend/app/agents/nodes/merge_results.py
   - backend/app/services/ner_service.py
   - backend/app/services/nickname_service.py
```

### í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œì
```
1. README.md
   â†“
2. docs/setup.md (Frontend ë¶€ë¶„)
   â†“
3. docs/architecture.md (UI/UX ì„¤ê³„ ë¶€ë¶„)
   â†“
4. docs/pipeline-io.md (API ì‘ë‹µ í˜•ì‹ í™•ì¸)
   â†“
5. ì‹¤ì œ ì»´í¬ë„ŒíŠ¸ íƒìƒ‰:
   - frontend/src/App.jsx (ë¼ìš°íŒ…)
   - frontend/src/services/api.js (API í˜¸ì¶œ)
   - frontend/src/pages/UploadPage.jsx
   - frontend/src/pages/SpeakerInfoConfirmPage.jsx
   - frontend/src/pages/TaggingPageNew.jsx
   - frontend/src/pages/ResultPageNew.jsx
```

---

## ğŸ”„ ë¬¸ì„œ ì—…ë°ì´íŠ¸ ê·œì¹™

### ì–¸ì œ ì—…ë°ì´íŠ¸í•˜ë‚˜ìš”?
- ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€ ì‹œ
- API ìŠ¤í™ ë³€ê²½ ì‹œ
- DB ìŠ¤í‚¤ë§ˆ ë³€ê²½ ì‹œ
- í™˜ê²½ ì„¤ì • ë°©ë²• ë³€ê²½ ì‹œ
- ì•Œê³ ë¦¬ì¦˜ ë¡œì§ ìˆ˜ì • ì‹œ

### ì–´ë–»ê²Œ ì—…ë°ì´íŠ¸í•˜ë‚˜ìš”?
1. í•´ë‹¹ ë¬¸ì„œ ì°¾ê¸°
2. ë³€ê²½ ë‚´ìš© ì‘ì„±
3. ë‚ ì§œ ê¸°ë¡ (ë¬¸ì„œ í•˜ë‹¨)
4. PRì— ë¬¸ì„œ ë³€ê²½ì‚¬í•­ ëª…ì‹œ

---

## ğŸ“ ë¬¸ì˜

ë¬¸ì„œ ê´€ë ¨ ì§ˆë¬¸ì´ë‚˜ ê°œì„  ì œì•ˆì€ GitHub Issuesë¡œ ë‚¨ê²¨ì£¼ì„¸ìš”!

- **Issues**: [GitHub Issues](https://github.com/yourusername/ListenCarePlease/issues)

---

## ğŸ”„ ìµœì‹  ì—…ë°ì´íŠ¸

**[2025-12-01]** ë¬¸ì„œ ì—…ë°ì´íŠ¸ - ì‹¤ì œ êµ¬í˜„ ì½”ë“œ ë° DB ìŠ¤í‚¤ë§ˆ ì¶”ê°€
- âœ… **AI-Pipeline-Code.md ìƒì„±** - ì „ì²´ 4ê°œ Phaseì˜ ì‹¤ì œ êµ¬í˜„ ì½”ë“œ ì •ë¦¬
- âœ… **COMPLETE_GUIDE.md ì—…ë°ì´íŠ¸** - 12. í•µì‹¬ êµ¬í˜„ ì½”ë“œ ì˜ˆì œ ì„¹ì…˜ ì¶”ê°€
  - Phase 1: VAD, STT ë³‘ë ¬ ì²˜ë¦¬, Diarization (Senko) GPU ê°€ì†
  - Phase 2: NER (BERT + Levenshtein), ë‹‰ë„¤ì„ ìƒì„± (Smart Selection 70% ë¹„ìš© ì ˆê°)
  - Phase 3: LangGraph Agent (5ê°œ ë…¸ë“œ, Tool, ë©€í‹°í„´ LLM, ì†Œê±°ë²•)
  - Phase 4: íš¨ìœ¨ì„± ë¶„ì„ (TTR, PPL), RAG (ChromaDB, í™”ì ìë™ ì¶”ì¶œ)
- âœ… **database-schema.md ì—…ë°ì´íŠ¸** - ì‹ ê·œ í…Œì´ë¸” 2ê°œ ì¶”ê°€
  - 11. speaker_profiles: í™”ì ìë™ ì¸ì‹ (ìŒì„±/í…ìŠ¤íŠ¸ ì„ë² ë”© ê¸°ë°˜)
  - 12. meeting_efficiency_analysis: 5ê°€ì§€ ì§€í‘œ ê¸°ë°˜ íš¨ìœ¨ì„± ë¶„ì„ (Entropy, TTR, Info Content, Sentence Prob, PPL)
- ğŸ“„ ì°¸ê³ : [AI-Pipeline-Code.md](../AI-Pipeline-Code.md) | [database-schema.md](./database-schema.md)

**[2025-11-27]** íšŒì˜ íš¨ìœ¨ì„± ë¶„ì„ ê¸°ëŠ¥ êµ¬í˜„ ì™„ë£Œ
- âœ… ì „ì²´ íšŒì˜ ì§€í‘œ 4ì¢… ì¶”ê°€ (TTR, ì •ë³´ëŸ‰, ë¬¸ì¥ í™•ë¥ , PPL)
- âœ… AI ì¸ì‚¬ì´íŠ¸ ìƒì„± (GPT-4o-mini ê¸°ë°˜ í•œì¤„ í‰)
- âœ… ìë™ íš¨ìœ¨ì„± ë¶„ì„ íŠ¸ë¦¬ê±° (í™”ì íƒœê¹… ì™„ë£Œ í›„)
- âœ… ê²°ê³¼ ìºì‹± êµ¬í˜„ (force íŒŒë¼ë¯¸í„°)
- âœ… ì—ëŸ¬ ì²˜ë¦¬ ê°œì„  (NaN/Infinity í•„í„°ë§, dict íƒ€ì… ì²˜ë¦¬)
- âœ… UI/UX ê°œì„  (ì¤‘ë³µ ì„¹ì…˜ ì œê±°, í´ë§ ì œí•œ)
- ğŸ“„ ìƒì„¸ ë‚´ìš©: [EFFICIENCY_ANALYSIS.md](./EFFICIENCY_ANALYSIS.md), [CHANGELOG.md](./CHANGELOG.md)

**[2025-11-24]** UI/UX ê°œì„  ë° ë²„ê·¸ ìˆ˜ì •
- âœ… ë‹¤í¬ëª¨ë“œ í…Œë§ˆ í†µí•© ì™„ë£Œ (ëª¨ë“  í˜ì´ì§€ ìƒ‰ìƒ ìŠ¤í‚´ í†µì¼)
- âœ… ëŒ€ì‹œë³´ë“œ í†µê³„ í‘œì‹œ ë²„ê·¸ ìˆ˜ì • (API ì‘ë‹µ êµ¬ì¡° ë³€ê²½ ë°˜ì˜)
- âœ… í™”ì ì¹´ìš´íŒ… ë²„ê·¸ ìˆ˜ì • (speaker_label ê¸°ë°˜ìœ¼ë¡œ ë³€ê²½)
- âœ… RAG í˜ì´ì§€ fileId íƒ€ì… ì˜¤ë¥˜ ìˆ˜ì • (UUID â†’ ì •ìˆ˜ ID ë³€í™˜)
- âœ… Processing í˜ì´ì§€ ëª¨ë¸ ì •ë³´ ì¡°ê±´ë¶€ í‘œì‹œ
- ğŸ“„ ìƒì„¸ ë‚´ìš©: [CHANGELOG.md](./CHANGELOG.md)

---

**Last Updated**: 2025-11-27
